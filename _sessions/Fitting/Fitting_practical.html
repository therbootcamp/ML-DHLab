<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Fitting</title>

<script src="Fitting_practical_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="Fitting_practical_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="Fitting_practical_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="Fitting_practical_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="Fitting_practical_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="Fitting_practical_files/navigation-1.1/tabsets.js"></script>
<link href="Fitting_practical_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="Fitting_practical_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="practical.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Fitting</h1>
<h4 class="author"><table style='table-layout:fixed;width:100%;border:0;padding:0;margin:0'>
<col width='10%'>
<col width='10%'>
<tr style="border:none">
<td style="display:block;width:100%;text-align:left;vertical-align:bottom;padding:0;margin:0;border:none" nowrap>
<font style='font-style:normal'>Machine Learning with R</font><br> <a href='https://therbootcamp.github.io/ML-DHLab/'> <i class='fas fa-clock' style='font-size:.9em;' ></i> </a> <a href='https://therbootcamp.github.io'> <i class='fas fa-home' style='font-size:.9em;'></i> </a> <a href='mailto:therbootcamp@gmail.com'> <i class='fas fa-envelope' style='font-size: .9em;'></i> </a> <a href='https://www.linkedin.com/company/basel-r-bootcamp/'> <i class='fab fa-linkedin' style='font-size: .9em;'></i> </a> <a href='https://therbootcamp.github.io'> <font style='font-style:normal'>The R Bootcamp</font> </a>
</td>
<td style="width:100%;vertical-align:bottom;text-align:right;padding:0;margin:0;border:none">
<img src='https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/by-sa.png' style='height:15px;width:80px'/>
</td>
</tr>
</table></h4>

</div>


<p align="center">
<img width="100%" src="image/fitting_dirk.001.png" margin=0><br> <font style="font-size:10px">adapted from <a href="https://xkcd.com/">xkcd.com</a></font>
</p>
<div id="section" class="section level1 tabset">
<h1></h1>
<div id="overview" class="section level2">
<h2>Overview</h2>
<p>In this practical, you’ll practice the basics of fitting and exploring regression models in R.</p>
<p>By the end of this practical you will know how to:</p>
<ol style="list-style-type: decimal">
<li>Fit a regression model to training data.</li>
<li>Explore your fit object with generic functions.</li>
<li>Evaluate the model’s fitting performance using accuracy measures such as MSE and MAE.</li>
<li>Explore the effects of adding additional features.</li>
</ol>
</div>
<div id="tasks" class="section level2">
<h2>Tasks</h2>
<div id="a---setup" class="section level3">
<h3>A - Setup</h3>
<ol style="list-style-type: decimal">
<li><p>Open your <code>TheRBootcamp</code> R project.</p></li>
<li><p>Open a new R script. At the top of the script, using comments, write your name and the date. Save it as a new file called <code>Fitting_practical.R</code> in the <code>2_Code</code> folder.</p></li>
</ol>
<pre class="r"><code>## NAME
## DATE
## Fitting practical</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Using <code>library()</code>, load the packages <code>tidyverse</code> and <code>caret</code>.</li>
</ol>
<pre class="r"><code># Load packages necessary for this script
library(tidyverse)
library(caret)</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>For this practical, you’ll analyze a dataset of 388 U.S. Colleges. The data is stored in <code>college_train.csv</code>. Using the following template, load the dataset into R as <code>college_train</code>.</li>
</ol>
<pre class="r"><code># Load in college_train.csv data as college_train
college_train &lt;- read_csv(file = &quot;1_Data/college_train.csv&quot;)</code></pre>
<ol start="5" style="list-style-type: decimal">
<li><p>Take a look at the first few rows of the dataset by printing it to the console. Pay attention to the feature types, the number of features and the number of cases.</p></li>
<li><p>Before starting to model the data, you need to do a little bit of data cleaning: Convert all character columns to factors using the following code.</p></li>
</ol>
<pre class="r"><code># Convert character to factor
college_train &lt;- college_train %&gt;%
          mutate_if(is.character, factor)</code></pre>
</div>
<div id="b---determine-sampling-procedure" class="section level3">
<h3>B - Determine sampling procedure</h3>
<ol style="list-style-type: decimal">
<li>In <code>caret</code>, the computational nuances of training a model are defined using the <code>trainControl()</code> function. As this session focuses on the basics of fitting, set <code>method = "none"</code> for now and save the resulting object as <code>ctrl_none</code>.</li>
</ol>
<pre class="r"><code># Set training resampling method to &quot;none&quot; to keep everything super simple (for now)
ctrl_none &lt;- trainControl(method = &quot;none&quot;) </code></pre>
</div>
<div id="c---fit-a-regression-model" class="section level3">
<h3>C - Fit a regression model</h3>
<ol style="list-style-type: decimal">
<li>Using the code below, fit a regression model predicting graduation rate (<code>Grad.Rate</code>) as a function of one feature, namely <code>PhD</code> (percent of faculty with PhDs). Save the result as an object <code>graduation_glm</code>. Specifically:</li>
</ol>
<ul>
<li>set the <code>form</code> argument to <code>Grad.Rate ~ PhD</code>.</li>
<li>set the <code>data</code> argument to your training data <code>college_train</code>.</li>
<li>set the <code>method</code> argument to <code>"glm"</code> for regression.</li>
<li>set the <code>trControl</code> argument to <code>ctrl_none</code>, the object you created above</li>
</ul>
<pre class="r"><code># graduation_glm: Regression Model
graduation_glm &lt;- train(form = XX ~ XX,
                        data = XX,
                        method = &quot;XX&quot;,
                        trControl = XX)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Explore the fitted model using the <code>summary()</code> function, by setting the function’s first argument to <code>graduation_glm</code>. How do you interpret the output and especially the estimated parameters?</li>
</ol>
<pre class="r"><code># Show summary information from the regression model
summary(XXX)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Save the model’s fitted values. Do this by running the following code, which saves the fitted values as <code>glm_fit</code>.</li>
</ol>
<pre class="r"><code># Get fitted values from the graduation_glm
glm_fit &lt;- predict(XXX)</code></pre>
</div>
<div id="d---evaluate-performance" class="section level3">
<h3>D - Evaluate performance</h3>
<ol style="list-style-type: decimal">
<li>Evaluate the model’s performance by comparing your the fitted values of your model to the true values. Start by defining the vector <code>criterion</code> as the true graduation rates in the data.</li>
</ol>
<pre class="r"><code># Define criterion as Grad.Rate
criterion &lt;- college_train$Grad.Rate</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Now quantify the model’s performance using <code>postResample()</code>, with the fitted values as the prediction, and the criterion as the observed values.</li>
</ol>
<p>Specifically:</p>
<ul>
<li>set the <code>pred</code> argument to <code>glm_fit</code> (the fitted values).</li>
<li>set the <code>obs</code> argument to <code>criterion</code> (the criterion values).</li>
</ul>
<pre class="r"><code># Model performance
postResample(pred = XXX,   
             obs = XXX) </code></pre>
<ol start="3" style="list-style-type: decimal">
<li>The output of <code>postResample()</code> shows three values, <em>RMSE</em>, <em>Rsquared</em> und <em>MAE</em>. How do you interpret these; is the performance good or bad?</li>
</ol>
</div>
<div id="e---add-more-features" class="section level3">
<h3>E - Add more features</h3>
<p>So far you have only used one feature (<code>PhD</code>), to predict <code>Grad.Rate</code>. Try again, but now you’ll use a total of three features:</p>
<ul>
<li><code>PhD</code> - the percent of faculty with a PhD.</li>
<li><code>Room.Board</code> - room and board costs.</li>
<li><code>S.F.Ratio</code> - student to faculty ratio.</li>
</ul>
<ol style="list-style-type: decimal">
<li>Using the same steps as above, create a regression model <code>graduation_glm_three</code> which predicts <code>Grad.Rate</code> using the three features. Specifically,…</li>
</ol>
<ul>
<li>set the <code>form</code> argument to <code>Grad.Rate ~ PhD + Room.Board + S.F.Ratio</code>.</li>
<li>set the <code>data</code> argument to your training data <code>college_train</code>.</li>
<li>set the <code>method</code> argument to <code>"glm"</code> for regression.</li>
<li>set the <code>trControl</code> argument to <code>ctrl_none</code>.</li>
</ul>
<pre class="r"><code># graduation_glm_three: Regression Model
graduation_glm_three &lt;- train(form = XXX ~ XXX + XXX + XXX + XXX,
                              data = XXX,
                              method = &quot;XXX&quot;,
                              trControl = XXX)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Explore your model using <code>summary()</code>. What values were estimated for the parameters?</li>
</ol>
<pre class="r"><code>summary(XXX)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Extract the fitted values of this new model using <code>predict()</code> and save them as a new object <code>glm_fit_three</code>.</li>
</ol>
<pre class="r"><code># Save new model fits
glm_fit_three &lt;- predict(XXX)</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Use <code>postResample()</code> to evaluate the performance of the model with three predictors. How well does the new model fit the data, relative to the one using only one predictor.</li>
</ol>
<pre class="r"><code># New model fitting accuracy
postResample(pred = XXX,   # Fitted values 
             obs = XXX)    # criterion values</code></pre>
</div>
<div id="f---use-all-features" class="section level3">
<h3>F - Use all features</h3>
<ol style="list-style-type: decimal">
<li>Alright, now it’s time to use all features available. Using the same steps as above, create a regression model <code>graduation_glm_all</code> which predicts <code>Grad.Rate</code> using <em>all</em> features in the dataset. Specifically:</li>
</ol>
<ul>
<li>set the <code>form</code> argument to <code>Grad.Rate ~ .</code>.</li>
<li>set the <code>data</code> argument to the training data <code>college_train</code>.</li>
<li>set the <code>method</code> argument to <code>"glm"</code> for regression.</li>
<li>set the <code>trControl</code> argument to <code>ctrl_none</code>.</li>
</ul>
<pre class="r"><code># graduation_glm_all: Regression Model
graduation_glm_all &lt;- train(form = XXX ~ .,
                            data = XXX,
                            method = &quot;glm&quot;,
                            trControl = XXX)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Explore your model using <code>summary()</code>. What do the parameter estimates tell you?</li>
</ol>
<pre class="r"><code>summary(XXX)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Save the model’s fitted values as a new object <code>glm_fit_all</code>.</li>
</ol>
<pre class="r"><code># Save new model fits
glm_fit_all &lt;- predict(XXX)</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Use <code>postResample()</code> to evaluate the performance of the model with all predictors. Compare it to the previous two models with fewer predictors. Do you detect a pattern?</li>
</ol>
</div>
<div id="g---factor-as-criterion" class="section level3">
<h3>G - Factor as criterion</h3>
<p>Now it’s time to do a classification task! Recall that in classification tasks, your are predicting a <code>factor</code>. In this task, you will predict whether or not a college is Private or Public, which is stored as the feature <code>Private</code>.</p>
<ol style="list-style-type: decimal">
<li>Use <code>calss()</code> to make sure that the criterion is coded as a factor. If the output is <code>factor</code>, you can proceed.</li>
</ol>
<pre class="r"><code># Look at the class of the feature Private
class(college_train$Private)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Now, save the feature <code>Private</code> as a new object called <code>criterion</code>.</li>
</ol>
<pre class="r"><code># Define criterion as college_train$Private
criterion &lt;- college_train$Private</code></pre>
</div>
<div id="h---fit-a-classification-model" class="section level3">
<h3>H - Fit a classification model</h3>
<ol style="list-style-type: decimal">
<li>Using <code>train()</code>, create <code>private_glm</code>, a logistic regression model predicting the criterion <code>Private</code> using all other features. Specifically,…</li>
</ol>
<ul>
<li>set the <code>form</code> argument to <code>Private ~ .</code>.</li>
<li>set the <code>data</code> argument to the training data <code>college_train</code>.</li>
<li>set the <code>method</code> argument to <code>"glm"</code>.</li>
<li>set the <code>trControl</code> argument to <code>ctrl_none</code>.</li>
</ul>
<pre class="r"><code># Fit regression model predicting Private
private_glm &lt;- train(form = XXX ~ .,
                     data = XXX,
                     method = &quot;XXX&quot;,
                     trControl = XXX)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Explore the <code>private_glm</code> object using the <code>summary()</code> function. What to you make of the estimates?</li>
</ol>
<pre class="r"><code># Explore the private_glm object
summary(XXX)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Now extract the fitted values <code>glm_fit</code> using the following code.</li>
</ol>
<pre class="r"><code># Get fitted values 
glm_fit &lt;- predict(XXX)</code></pre>
<p>4.Use `confusionMatrix() to evaluate the performance of your classification model. Specifically:</p>
<ul>
<li>set the <code>data</code> argument to your <code>glm_fit</code> values.</li>
<li>set the <code>reference</code> argument to the <code>criterion</code> values.</li>
</ul>
<pre class="r"><code># Evaluate model performance
confusionMatrix(data = XXX,      # This is the prediction!
                reference = XXX) # This is the truth!</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Look at the results, what is the overall accuracy of the model? How do you interpret this?</li>
</ol>
</div>
<div id="i---fit-a-classification-model-pt.-2" class="section level3">
<h3>I - Fit a classification model pt. 2</h3>
<ol style="list-style-type: decimal">
<li><p>Refit the classification model using fewer features.</p></li>
<li><p>How does using fewer features affect the model’s performance?</p></li>
</ol>
</div>
<div id="x---challenges" class="section level3">
<h3>X - Challenges</h3>
<ol style="list-style-type: decimal">
<li><p>Conduct a regression analysis predicting the percent of alumni who donate to the college (<code>perc.alumni</code>). How good can your regression model fit this criterion? Which features contribute most?</p></li>
<li><p>Conduct a classification analysis predicting whether or not a school is ‘hot’ – where a ‘hot’ school is one that receives at least 10,000 applications. Use the code below to first create the <code>hot</code> variable.</p></li>
</ol>
<pre class="r"><code># Add a new factor criterion &#39;hot&#39; which indicates whether or not a schol receives at least 10,000 applications
college_train &lt;- college_train %&gt;%
  mutate(hot = factor(Apps &gt;= 10000))</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><p>Did you notice anything strange in your model when doing the previous task? If you used all available predictors you will have gotten a warning that your model did not converge. That can happen if the maximum number of iterations (glm uses an iterative procedure when fitting the model) is reached. The default is a maximum of 25 iterations, see <code>?glm.control</code>. To fix it just add the following code in your <code>train()</code> function <code>control = list(maxit = 75)</code>, and run it again.</p></li>
<li><p>Now the model should have converged, but there is still another warning occurring: <code>glm.fit: fitted probabilities numerically 0 or 1 occurred</code>. This can happen if very strong predictors occur in the dataset (see <a href="http://www.bagualu.net/wordpress/wp-content/uploads/2015/10/Modern_Applied_Statistics_With_S.pdf">Venables &amp; Ripley, 2002</a>, p. 197). If you added all predictors (except again the college names), then this problem occurs because the <code>Apps</code> variable, used to create the criterion, was also part of the predictors (plus some other variables that highly correlate with <code>Apps</code>). Check the variable correlations (the code below will give you a matrix of bivariate correlations). You will learn an easier way of checking the correlations of variables in a later session.</p></li>
</ol>
<pre class="r"><code># get correlation matrix of numeric variables
cor(college_train[,sapply(college_train, is.numeric)])</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Now fit the model again but only select variables that are not directly related to the number of applications (here several solutions are possible, there is no clear-cut criterion about which variables to include and which to discard).</li>
</ol>
</div>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<pre class="r"><code># Fitting and evaluating a regression model ------------------------------------

# Step 0: Load packages-----------
library(tidyverse)    # Load tidyverse for dplyr and tidyr
library(caret)        # For ML mastery 

# Step 1: Load and Clean, and Explore Training data ----------------------

# I&#39;ll use the mpg dataset from the dplyr package in this example
#  no need to load an external dataset
data_train &lt;- read_csv(&quot;1_Data/mpg_train.csv&quot;)

# Convert all characters to factor
#  Some ML models require factors
data_train &lt;- data_train %&gt;%
  mutate_if(is.character, factor)

# Explore training data
data_train        # Print the dataset
View(data_train)  # Open in a new spreadsheet-like window 
dim(data_train)   # Print dimensions
names(data_train) # Print the names

# Step 2: Define training control parameters -------------

# In this case, I will set method = &quot;none&quot; to fit to 
#  the entire dataset without any fancy methods
#  such as cross-validation
train_control &lt;- trainControl(method = &quot;none&quot;) 

# Step 3: Train model: -----------------------------
#   Criterion: hwy
#   Features: year, cyl, displ, trans

# Regression
hwy_glm &lt;- train(form = hwy ~ year + cyl + displ + trans,
                 data = data_train,
                 method = &quot;glm&quot;,
                 trControl = train_control)

# Look at summary information
summary(hwy_glm)

# Step 4: Access fit ------------------------------

# Save fitted values
glm_fit &lt;- predict(hwy_glm)

# Define data_train$hwy as the true criterion
criterion &lt;- data_train$hwy

# Regression Fitting Accuracy
postResample(pred = glm_fit, 
             obs = criterion)

#     RMSE Rsquared      MAE 
# 3.246182 0.678465 2.501346 

# On average, the model fits are 2.8 away from the true
#  criterion values

# Step 5: Visualise Accuracy -------------------------

# Tidy competition results
accuracy &lt;- tibble(criterion = criterion,
                   Regression = glm_fit) %&gt;%
               gather(model, prediction, -criterion) %&gt;%
  
  # Add error measures
  mutate(se = prediction - criterion,
         ae = abs(prediction - criterion))


# Calculate summaries
accuracy_agg &lt;- accuracy %&gt;%
                  group_by(model) %&gt;%
                  summarise(mae = mean(ae))   # Calculate MAE (mean absolute error)

# Plot A) Scatterplot of criterion versus predictions
ggplot(data = accuracy,
       aes(x = criterion, y = prediction, col = model)) +
  geom_point(alpha = .2) +
  geom_abline(slope = 1, intercept = 0) +
  labs(title = &quot;Predicting mpg$hwy&quot;,
       subtitle = &quot;Black line indicates perfect performance&quot;)

# Plot B) Violin plot of absolute errors
ggplot(data = accuracy, 
       aes(x = model, y = ae, fill = model)) + 
  geom_violin() + 
  geom_jitter(width = .05, alpha = .2) +
  labs(title = &quot;Distributions of Fitting Absolute Errors&quot;,
       subtitle = &quot;Numbers indicate means&quot;,
       x = &quot;Model&quot;,
       y = &quot;Absolute Error&quot;) +
  guides(fill = FALSE) +
  annotate(geom = &quot;label&quot;, 
           x = accuracy_agg$model, 
           y = accuracy_agg$mae, 
           label = round(accuracy_agg$mae, 2))</code></pre>
</div>
<div id="datasets" class="section level2">
<h2>Datasets</h2>
<table>
<thead>
<tr class="header">
<th align="left">File</th>
<th align="left">Rows</th>
<th align="left">Columns</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/ML_2019Oct/master/1_Data/college_train.csv?token=AGKBX5SLEV3PLWUVQ4NCUB2427V36">college_train.csv</a></td>
<td align="left">1000</td>
<td align="left">21</td>
</tr>
</tbody>
</table>
<ul>
<li>The <code>college_train</code> data are taken from the <code>College</code> dataset in the <code>ISLR</code> package. They contain statistics for a large number of US Colleges from the 1995 issue of US News and World Report.</li>
</ul>
<div id="variable-description-of-college_train" class="section level4">
<h4>Variable description of <code>college_train</code></h4>
<table>
<colgroup>
<col width="26%" />
<col width="73%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>Private</code></td>
<td align="left">A factor with levels No and Yes indicating private or public university.</td>
</tr>
<tr class="even">
<td align="left"><code>Apps</code></td>
<td align="left">Number of applications received.</td>
</tr>
<tr class="odd">
<td align="left"><code>Accept</code></td>
<td align="left">Number of applications accepted.</td>
</tr>
<tr class="even">
<td align="left"><code>Enroll</code></td>
<td align="left">Number of new students enrolled.</td>
</tr>
<tr class="odd">
<td align="left"><code>Top10perc</code></td>
<td align="left">Pct. new students from top 10% of H.S. class.</td>
</tr>
<tr class="even">
<td align="left"><code>Top25perc</code></td>
<td align="left">Pct. new students from top 25% of H.S. class.</td>
</tr>
<tr class="odd">
<td align="left"><code>F.Undergrad</code></td>
<td align="left">Number of fulltime undergraduates.</td>
</tr>
<tr class="even">
<td align="left"><code>P.Undergrad</code></td>
<td align="left">Number of parttime undergraduates.</td>
</tr>
<tr class="odd">
<td align="left"><code>Outstate</code></td>
<td align="left">Out-of-state tuition.</td>
</tr>
<tr class="even">
<td align="left"><code>Room.Board</code></td>
<td align="left">Room and board costs.</td>
</tr>
<tr class="odd">
<td align="left"><code>Books</code></td>
<td align="left">Estimated book costs.</td>
</tr>
<tr class="even">
<td align="left"><code>Personal</code></td>
<td align="left">Estimated personal spending.</td>
</tr>
<tr class="odd">
<td align="left"><code>PhD</code></td>
<td align="left">Pct. of faculty with Ph.D.’s.</td>
</tr>
<tr class="even">
<td align="left"><code>Terminal</code></td>
<td align="left">Pct. of faculty with terminal degree.</td>
</tr>
<tr class="odd">
<td align="left"><code>S.F.Ratio</code></td>
<td align="left">Student/faculty ratio.</td>
</tr>
<tr class="even">
<td align="left"><code>perc.alumni</code></td>
<td align="left">Pct. alumni who donate.</td>
</tr>
<tr class="odd">
<td align="left"><code>Expend</code></td>
<td align="left">Instructional expenditure per student.</td>
</tr>
<tr class="even">
<td align="left"><code>Grad.Rate</code></td>
<td align="left">Graduation rate.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="functions" class="section level2">
<h2>Functions</h2>
<div id="packages" class="section level3">
<h3>Packages</h3>
<table>
<thead>
<tr class="header">
<th align="left">Package</th>
<th align="left">Installation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>tidyverse</code></td>
<td align="left"><code>install.packages("tidyverse")</code></td>
</tr>
<tr class="even">
<td align="left"><code>caret</code></td>
<td align="left"><code>install.packages("caret")</code></td>
</tr>
</tbody>
</table>
</div>
<div id="functions-1" class="section level3">
<h3>Functions</h3>
<table>
<colgroup>
<col width="7%" />
<col width="12%" />
<col width="80%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Package</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>trainControl()</code></td>
<td align="left"><code>caret</code></td>
<td align="left">Define modelling control parameters</td>
</tr>
<tr class="even">
<td align="left"><code>train()</code></td>
<td align="left"><code>caret</code></td>
<td align="left">Train a model</td>
</tr>
<tr class="odd">
<td align="left"><code>predict(object, newdata)</code></td>
<td align="left"><code>base</code></td>
<td align="left">Predict the criterion values of <code>newdata</code> based on <code>object</code></td>
</tr>
<tr class="even">
<td align="left"><code>postResample()</code></td>
<td align="left"><code>caret</code></td>
<td align="left">Calculate aggregate model performance in regression tasks</td>
</tr>
<tr class="odd">
<td align="left"><code>confusionMatrix()</code></td>
<td align="left"><code>caret</code></td>
<td align="left">Calculate aggregate model performance in classification tasks</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="resources" class="section level2">
<h2>Resources</h2>
<div id="cheatsheet" class="section level3">
<h3>Cheatsheet</h3>
<figure>
<center>
<a href="https://github.com/rstudio/cheatsheets/raw/master/caret.pdf"> <img src="https://www.rstudio.com/wp-content/uploads/2015/01/caret-cheatsheet.png" alt="Trulli" style="width:70%"></a><br> <font style="font-size:10px"> from <a href= "https://github.com/rstudio/cheatsheets/raw/master/caret.pdf</figcaption">github.com/rstudio</a></font>
</figure>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
